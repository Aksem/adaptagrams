<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Adaptagrams: dialect::ExpansionManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Adaptagrams
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedialect.html">dialect</a></li><li class="navelem"><a class="el" href="classdialect_1_1ExpansionManager.html">ExpansionManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classdialect_1_1ExpansionManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dialect::ExpansionManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classdialect_1_1ExpansionManager.html" title="The ExpansionManager class. ">ExpansionManager</a> class.  
 <a href="classdialect_1_1ExpansionManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="expansion_8h_source.html">expansion.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for dialect::ExpansionManager:</div>
<div class="dyncontent">
<div class="center"><img src="classdialect_1_1ExpansionManager__coll__graph.png" border="0" usemap="#dialect_1_1ExpansionManager_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ba68d2c5b329915dad76816c4645a0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#a4ba68d2c5b329915dad76816c4645a0a">ExpansionManager</a> (TreePlacement_SP tp, <a class="el" href="namespacevpsc.html#a498ea1e279ae35b8aa2edac29a3ebc17">vpsc::Dim</a> primaryDim=<a class="el" href="namespacevpsc.html#a498ea1e279ae35b8aa2edac29a3ebc17a02f77e4616c6edc849f2be04d0763569">vpsc::HORIZONTAL</a>, double padding=-1)</td></tr>
<tr class="memdesc:a4ba68d2c5b329915dad76816c4645a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard constructor.  <a href="#a4ba68d2c5b329915dad76816c4645a0a">More...</a><br /></td></tr>
<tr class="separator:a4ba68d2c5b329915dad76816c4645a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7178ace1cad754031c80a665804bf14d"><td class="memItemLeft" align="right" valign="top"><a id="a7178ace1cad754031c80a665804bf14d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#a7178ace1cad754031c80a665804bf14d">isAxial</a> (<a class="el" href="namespacevpsc.html#a498ea1e279ae35b8aa2edac29a3ebc17">vpsc::Dim</a> dim)</td></tr>
<tr class="memdesc:a7178ace1cad754031c80a665804bf14d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a given dimension is axial w.r.t. this manager's placement. <br /></td></tr>
<tr class="separator:a7178ace1cad754031c80a665804bf14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b3cfee7dacd126bdda09e99c7f2e0a"><td class="memItemLeft" align="right" valign="top"><a id="ac3b3cfee7dacd126bdda09e99c7f2e0a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#ac3b3cfee7dacd126bdda09e99c7f2e0a">isTransverse</a> (<a class="el" href="namespacevpsc.html#a498ea1e279ae35b8aa2edac29a3ebc17">vpsc::Dim</a> dim)</td></tr>
<tr class="memdesc:ac3b3cfee7dacd126bdda09e99c7f2e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a given dimension is transverse w.r.t. this manager's placement. <br /></td></tr>
<tr class="separator:ac3b3cfee7dacd126bdda09e99c7f2e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7425315ee16863d2d4d65085edd6382f"><td class="memItemLeft" align="right" valign="top"><a id="a7425315ee16863d2d4d65085edd6382f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#a7425315ee16863d2d4d65085edd6382f">estimateCost</a> (void) const</td></tr>
<tr class="memdesc:a7425315ee16863d2d4d65085edd6382f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the cost of expanding. <br /></td></tr>
<tr class="separator:a7425315ee16863d2d4d65085edd6382f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc53b54c9f7657628c2edccde501e3d9"><td class="memItemLeft" align="right" valign="top"><a id="adc53b54c9f7657628c2edccde501e3d9"></a>
std::map&lt; <a class="el" href="namespacevpsc.html#a498ea1e279ae35b8aa2edac29a3ebc17">vpsc::Dim</a>, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#adc53b54c9f7657628c2edccde501e3d9">estimateCostByDimension</a> (void) const</td></tr>
<tr class="memdesc:adc53b54c9f7657628c2edccde501e3d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the cost of expanding in each dimension. This method looks at the length of contained segments, and reports the sum of shortfalls. <br /></td></tr>
<tr class="separator:adc53b54c9f7657628c2edccde501e3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe9343d3eaceec64a948645a34ff213"><td class="memItemLeft" align="right" valign="top"><a id="a7fe9343d3eaceec64a948645a34ff213"></a>
std::map&lt; <a class="el" href="namespacevpsc.html#a498ea1e279ae35b8aa2edac29a3ebc17">vpsc::Dim</a>, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#a7fe9343d3eaceec64a948645a34ff213">estimateCostByDimension2</a> (void) const</td></tr>
<tr class="memdesc:a7fe9343d3eaceec64a948645a34ff213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the cost of expanding in each dimension. This method computes the initial separation constraints in each dimension and reports the sum of their violations. <br /></td></tr>
<tr class="separator:a7fe9343d3eaceec64a948645a34ff213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe6ccd8ce9da8e37e3ed50c324f3139"><td class="memItemLeft" align="right" valign="top"><a id="aabe6ccd8ce9da8e37e3ed50c324f3139"></a>
std::map&lt; CardinalDir, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#aabe6ccd8ce9da8e37e3ed50c324f3139">estimateCostByDirection</a> (void) const</td></tr>
<tr class="memdesc:aabe6ccd8ce9da8e37e3ed50c324f3139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the cost of expanding in each cardinal direction. <br /></td></tr>
<tr class="separator:aabe6ccd8ce9da8e37e3ed50c324f3139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e096639e3d2bfe8d1b75e3c592b26c5"><td class="memItemLeft" align="right" valign="top"><a id="a3e096639e3d2bfe8d1b75e3c592b26c5"></a>
ExpansionGoals&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#a3e096639e3d2bfe8d1b75e3c592b26c5">getGoals</a> (void)</td></tr>
<tr class="memdesc:a3e096639e3d2bfe8d1b75e3c592b26c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the goals. <br /></td></tr>
<tr class="separator:a3e096639e3d2bfe8d1b75e3c592b26c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8020d2f75fc7a717cf989043e44d7e7a"><td class="memItemLeft" align="right" valign="top">ProjSeq_SP&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdialect_1_1ExpansionManager.html#a8020d2f75fc7a717cf989043e44d7e7a">extendProjSeq</a> (ProjSeq_SP ps0)</td></tr>
<tr class="memdesc:a8020d2f75fc7a717cf989043e44d7e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend a given projection sequence with those projections necessary to achieve all expansion goals of this manager.  <a href="#a8020d2f75fc7a717cf989043e44d7e7a">More...</a><br /></td></tr>
<tr class="separator:a8020d2f75fc7a717cf989043e44d7e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classdialect_1_1ExpansionManager.html" title="The ExpansionManager class. ">ExpansionManager</a> class. </p>
<p>An instance of this class is meant to manage the generation of nonoverlap constraints, when making room for a <a class="el" href="classdialect_1_1TreePlacement.html">TreePlacement</a> in a <a class="el" href="classdialect_1_1Face.html" title="Represents a single face of a 4-planar, orthogonal layout. ">Face</a> of a planar orthogonal layout.</p>
<p>The idea is that we choose strategic "goal points" in the face, and compute the line segments from the tree's attachment point to these goal points. We can then use these line segments to determine the nonoverlap constraints by pushing everything on one side of the line to one side, and everything on the other side of the line to the other side.</p>
<p>A <a class="el" href="classdialect_1_1TreePlacement.html">TreePlacement</a> has both a "placement direction" dp, and a "growth
 direction" dg. The former is any compass point, cardinal or ordinal, while the latter must be cardinal. Expansion constraints are said to be "axial" when they operate in the dimension to which dg belongs, and to be "transverse" when they operate in the complementary dimension. For example if dg is NORTH, then <a class="el" href="structdialect_1_1SepCo.html">SepCo</a>'s in the y-dim are axial, while those in the x-dim are transverse.</p>
<p>Similarly, goal points are called axial or transverse according to the type of constraints they generate. If the placement direction dp is cardinal, then there is one transverse goal point, and there are two axial goal poitns. If the placement direction dp is ordinal, there there is one transverse and one axial goal point.</p>
<p>For example, for a north-growing tree that was also placed north, see the figure on the left, below. Rooted at the "o", the three goal points are marked by "a", "b", "c". Goal point "a" is the one transverse goal point, since it will generate expansion constraints operating left and right, i.e. in the x-dimension. Meanwhile points "b" and "c" are the two axial goal points, since they will generate expansion constraints operating up and down, i.e. in the y-dimension. </p><pre class="fragment">        ---a---         a-------
       |      |         |      |
       |      |         |      |
       c---o--b         o------b
</pre><p>The figure on the right shows the two goal points for a north-growing tree that was placed north-east. Here there is one transverse goal point ("a"), and one axial ("b").</p>
<p>For each goal point the <a class="el" href="classdialect_1_1ExpansionManager.html" title="The ExpansionManager class. ">ExpansionManager</a> constructs an <a class="el" href="classdialect_1_1ExpansionGoal.html" title="The ExpansionGoal class. ">ExpansionGoal</a> object, which in turn uses the ContainedSegment class to generate expansion constraints.</p>
<p>Note: In an earlier version of HOLA (the Python version from 2015), this process was much more complex, potentially considering many more goal points, spanning face concavities. In those caes libavoid was used to find an orthogonal route to the goal point, and the segments of the route were used to select the expansion constraints. That system allowed us to consider all possible ways of expanding a face. The present system is faster and simpler, and is deemed to produce results of equal quality. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4ba68d2c5b329915dad76816c4645a0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ba68d2c5b329915dad76816c4645a0a">&#9670;&nbsp;</a></span>ExpansionManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ExpansionManager::ExpansionManager </td>
          <td>(</td>
          <td class="paramtype">TreePlacement_SP&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevpsc.html#a498ea1e279ae35b8aa2edac29a3ebc17">vpsc::Dim</a>&#160;</td>
          <td class="paramname"><em>primaryDim</em> = <code><a class="el" href="namespacevpsc.html#a498ea1e279ae35b8aa2edac29a3ebc17a02f77e4616c6edc849f2be04d0763569">vpsc::HORIZONTAL</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>padding</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tp</td><td>The <a class="el" href="classdialect_1_1TreePlacement.html">TreePlacement</a> for which expansion is required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">primaryDim</td><td>The dimension in which to expand first. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">padding</td><td>Optional padding to add to tree boxes involved in the expansion process. Leave negative for automatic setting equal to one quarter of the ideal edge length of the underlying graph. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8020d2f75fc7a717cf989043e44d7e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8020d2f75fc7a717cf989043e44d7e7a">&#9670;&nbsp;</a></span>extendProjSeq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ProjSeq_SP ExpansionManager::extendProjSeq </td>
          <td>(</td>
          <td class="paramtype">ProjSeq_SP&#160;</td>
          <td class="paramname"><em>ps0</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extend a given projection sequence with those projections necessary to achieve all expansion goals of this manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ps0</td><td>The given <a class="el" href="classdialect_1_1ProjSeq.html">ProjSeq</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="classdialect_1_1ProjSeq.html">ProjSeq</a> that extends the given one. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Runtime</td><td>error if any attempted projection is impossible. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libdialect/<a class="el" href="expansion_8h_source.html">expansion.h</a></li>
<li>libdialect/expansion.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 17 2019 14:55:41 for Adaptagrams by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
